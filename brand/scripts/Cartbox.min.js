"use strict";class Cartbox extends Cart{_render(){let t=$("<div/>",{class:"cart-box-inside"}),a=$('<p class="cart-total"></p>'),e=$('<a href="checkout.html" class="button-checkout">Checkout</a>'),s=$('<a href="shopping_cart.html" class="button-go_to_cart">Go&nbsp;to&nbsp;cart</a>');t.appendTo($(this.container)),a.appendTo($(this.container)),e.appendTo($(this.container)),s.appendTo($(this.container))}_renderItem(t){let a=$("<div/>",{class:"cart-product","data-product":t.id_product}),e=$("<a/>",{class:"cart-prod-img",href:"single_page.html"}),s=$(`<img src=${t.img} class="cartbox-img" alt="cart-img">`),i=$("<div/>",{class:"cart-product-title"});i.append($('<p class="cart-product-name">Rebox Zane</p>')),i.append($('<img src="img/cart/stars.png" alt="stars">')),i.append($(`<p class="cart-price">${t.quantity} x $${t.price}</p>`)),e.appendTo(a),s.appendTo(e),i.appendTo(a);let c=$("<a/>",{class:"times-circle"});a.append(c),c.append($('<i class="fas fa-times-circle"></i>')),c.click(()=>{this._remove(t.id_product)}),a.appendTo($(".cart-box-inside"))}_remove(t){let a=this.basketItems.find(a=>a.id_product===t);if(a.quantity>1)a.quantity--,this._updateCart(a);else{let e=$(`div[data-product="${t}"]`);this.basketItems.splice(this.basketItems.indexOf(a),1),e.remove()}this.amount-=a.price,localStorage.setItem("myitems",JSON.stringify(this.basketItems)),localStorage.setItem("countGoods",JSON.stringify(this.countGoods)),localStorage.setItem("amount",JSON.stringify(this.amount)),this._renderSum()}}